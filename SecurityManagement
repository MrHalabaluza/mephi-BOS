#!/bin/bash
echo 'Security Management

С помощью данной программы Вы можете управлять безопасностью файлов и каталогов

Разработали: Новиков, Галкина, Дудешева, Гарбуз, Рыбакова
'
if [ "$1" == "--help" ]&&[ $# == 1 ]
then
	echo "Здесь придумаем информацию о программе"
else
	echo 'Главное меню:'
	options=("Работа с файлом" "Поиск файлов, доступных всем пользователям на запись" "Выход")
	select opt in "${options[@]}"
	do
		case "$REPLY" in
			1)
				f="true"
				if [ -a "$1" ]&&[ $# == 1 ]; 
				then
					path="$1"
				else
					echo "Файл не указан либо неверное количество аргументов" >&2
					echo "Введите путь до файла:"
					while [ "$f" == "true" ];
					do
						read -e path
						if [ -a "$path" ]
						then	
							f="false"	
						else
							echo "Указанный файл не существует" >&2
							echo "Повторите ввод:"
						fi
					done
				fi

				option=("Изменить права доступа" "Изменить владельца и группу" "Изменить ACL права" "Вернуться")
				select opt in "${option[@]}" 
				do
					case "$REPLY" in
						1)
							echo "1"
							;;
						2)
							echo "2"
							./OwnershipANDGroup.sh "$path"
							;;
						3)
							echo "3"
							;;
						4)	echo "1) Работа с файлом
2) Поиск файлов, доступных всем пользователям на запись
3) Выход"
							break
							;;
						"help")
							echo "1) Изменить права доступа	3) Изменить ACL права
2) Изменить владельца и группу	4) Выход"
							;;
						*)
							echo "Неверный ввод" >&2
							;;
					esac
				done
				;;
			2)
				echo "2"
				;;
			3)
				echo "Good Bye"
				break
				;;
			"help")
				echo "1) Работа с файлом
2) Поиск файлов, доступных всем пользователям на запись
3) Выход"
				;;
			*)
				echo "Неверный ввод" >&2
				;;
		esac
	done
fi
